### 비상 연락처 삭제 API 상세 명세
#### **1. API 개요**
- **API 이름**: 비상 연락처 삭제
- **HTTP 메서드**: `DELETE`
- **엔드포인트**: `/api/v1/emergency-contacts/{contactId}`
- **설명**: 특정 비상 연락처를 삭제합니다.

#### **2. 요청(Request)**
**경로 변수(Path Variable)**:

| **키** | **설명** | **필수 여부** | **예시** |
| --- | --- | --- | --- |
| `contactId` | 삭제 대상 비상 연락처 고유 ID | ✅ | `45` |
**헤더**:

| **키** | **값** | **설명** |
| --- | --- | --- |
| Authorization | Bearer `<Token>` | 인증 토큰(필요한 경우). |
| Content-Type | application/json | 요청 데이터 타입 |
**요청 예시**:
``` http
DELETE /api/v1/emergency-contacts/45 HTTP/1.1
Host: example.com
Authorization: Bearer abc123token
Content-Type: application/json
```
#### **3. 응답(Response)**
**공통 응답 형식**:
### 성공 시:
``` json
{
    "code": "E2004",
    "message": "OK",
    "data": {
        "deleted_contact_id": 45
    }
}
```
### 실패 시:
``` json
{
    "code": "E4004",
    "message": "BAD_REQUEST",
    "errorMessage": "삭제 요청한 연락처를 찾을 수 없습니다."
}
```
**응답 코드 및 메시지**:

| **코드** | **설명** |
| --- | --- |
| **E2004** | 삭제 성공. 요청한 비상 연락처가 성공적으로 삭제됨. |
| **E4004** | 요청 실패. 제공된 `contactId`가 존재하지 않을 때. |
| **E4010** | 인증 실패. 사용자 권한이 없거나 유효하지 않은 토큰. |
| **E5000** | 서버 오류. 요청 데이터 처리 중 문제가 발생. |
#### **4. 데이터 구조**

| **필드명** | **타입** | **설명** |
| --- | --- | --- |
| `deleted_contact_id` | Integer | 삭제된 비상 연락처의 고유 ID |
#### **5. 유효성 검사 및 주요 고려 사항**
1. **`contactId`**:
    - 필수 값이며, 반드시 유효한 연락처 ID여야 합니다.
    - 데이터베이스에서 해당 ID가 조회되지 않을 경우 에러 응답.

2. **삭제 영향을 고려**:
    - 삭제된 비상 연락처가 관련된 다른 데이터나 로직이 있는 경우(예: 비상 연락 기록) 사전 처리 필요.

3. **권한 검증**:
    - 삭제 요청을 한 사용자가 해당 데이터를 삭제할 수 있는 권한이 있는지 검증.

#### **6. 사용 예시**
- **삭제 대상 연락처**:


| **ID** | **이름** | **전화번호** | **메모** | **입주민 ID** |
| --- | --- | --- | --- | --- |
| 45 | 김철수 | 01012345678 | 환자 돌봄 책임자 | 101 |
- **삭제 요청**:
``` http
  DELETE /api/v1/emergency-contacts/45 HTTP/1.1
```
- **삭제 성공 응답**:
``` json
  {
      "code": "E2004",
      "message": "OK",
      "data": {
          "deleted_contact_id": 45
      }
  }
```
#### **7. 추가 사항**
- **로그 기록**
    - 삭제 요청 및 결과를 서버 로그에 남겨 향후 문제 발생 시 추적 가능하도록 설정.

- **데이터 복구**
    - 경우에 따라 삭제된 데이터를 복구해야 할 수 있으므로 "소프트 삭제(soft delete)"를 고려할 수 있음.
