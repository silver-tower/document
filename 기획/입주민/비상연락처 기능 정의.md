# **실버타운 입주민 관리 서비스 - 비상연락처 기능 정의**

## **1. 비상연락처의 정의**

- **비상연락처란?**
  비상상황 발생 시, 입주민 본인이나 관리자가 신속히 소통하거나 조치를 취할 수 있도록 **추가적인 연락 가능한 번호**를 의미합니다.  
  예를 들어 가족, 보호자, 또는 입주민이 지정한 간병인의 연락처가 해당됩니다.

- **비상연락처의 역할**:
    - 긴급 상황에서 **관리자 → 보호자/대리인** 연락을 통한 신속한 대응.
    - 고령자의 편의를 고려하여, 관리자가 대리인과 소통할 수 있는 추가 채널 제공합니다.

---

## **2. 비상연락처의 주요 기능**

### **2-1. 비상연락처 등록**
1. **등록 단계**:
    - **회원가입 시 필수 항목**으로 설정.  
      (입력 항목: 이름, 연락처, 보호자와의 관계)
    - 사용자는 최소 1개 이상의 비상연락처를 등록해야 함.

2. **등록 제한**:
    - 한 입주민 대상 동일 번호 중복 등록 방지.
    - 유효한 번호만 입력 가능하도록 **숫자 형식 검증** (예: 연락처 길이 확인).

---

### **2-2. 비상연락처 수정**
1. **사용자 수정 가능 범위**:
    - 사용자는 로그인 후 마이페이지(또는 내 정보 관리)에서 비상연락처 정보를 언제든 수정 가능.
    - 수정 가능한 정보:
        - 이름
        - 연락처
        - 관계

2. **관리자 권한으로 수정 가능**:
    - 사용자가 비상연락처 정보를 업데이트하지 못하는 경우, 관리자가 대리로 수정 가능.
    - 수정 후, 사용자에게 알림 전송.

---

### **2-3. 비상연락처 삭제**
1. **삭제 조건**:
    - 입주민은 비상연락처를 **최소 1개 필수로 유지해야 함**.
    - 하나 이상의 비상연락처를 등록한 경우, 특정 연락처 삭제 가능.

2. **삭제 알림**:
    - 비상연락처 삭제 시, 사용자 계정으로 알림 발송.

---

### **2-4. 비상 상황 발생 시 연락**
1. **관리자 권한으로 호출**:
    - 관리자 화면에서 특정 입주민의 비상상황 발생 시, 등록된 비상연락처 정보에 접근하여 연락 가능.
    - 긴급 상황에서 전화번호뿐만 아니라 이메일을 통한 추가 연락 가능.

2. **긴급 알림 전송**:
    - 특정 거주지나 사용자에게 연동된 보호자 연락처로 긴급 알림(문자/SMS) 전송.

---

### **2-5. 비상연락처 알림 및 로그 기능**
1. **비상연락 처리 로그 생성**:
    - 관리자가 비상연락처에 연락(전화 또는 문자)을 시도할 경우, 시스템에 해당 기록을 자동으로 저장.
    - 저장 항목:
        - 비상연락처 시도 날짜/시간
        - 연락처 대상자
        - 연락 성공 여부

2. **알림 기능**:
    - 사용자나 관리자에 의해 비상연락처 수정 또는 삭제된 경우, 관련 이벤트 알림 발송.

---

## **3. 비상연락처 등록/수정 흐름**

### **3-1. 사용자 등록 흐름**
1. **회원가입 시**:
    - 회원가입 단계에서 비상연락처를 필수 항목으로 입력.
    - 입력 정보: 보호자 이름, 연락처, 관계.
    - 시스템 검증: 숫자 형식, 중복 여부 확인.

2. **회원 등록 후 수정**:
    - 로그인 → 내 정보 관리 → 비상연락처 → 수정 버튼 클릭.
    - 등록된 비상연락처 내용을 업데이트 후 저장.

---

### **3-2. 관리자 호출 흐름**
1. 관리자 패널 접속 → 특정 입주민의 비상상황 확인.
2. 해당 입주민의 비상연락처 정보 접근.
3. 등록된 번호로 즉시 전화/문자 연락 시도.
4. 긴급 알림 로그 저장.

---

## **4. 권한에 따른 비상연락처 접근 제한**

- **일반 사용자**:
    - 본인의 비상연락처 정보만 조회 및 수정 가능.

- **관리자**:
    - 관리 대상 입주민들의 비상연락처를 긴급 상황에서만 접근 가능.
    - 접근 시도 시 로그 기록 생성 및 저장.

---

## **5. 고려 사항**

1. **프라이버시 보호**:
    - 비상연락처는 **암호화 저장** 및 접근 로그 기록을 통해 개인정보 보호 조치.
    - 관리자도 긴급 상황에서만 접근 가능하도록 제한.

2. **사용성 강화**:
    - 필수로 비상연락처 등록을 유도하되, 직관적인 UI/UX를 통해 입력 및 수정 편의성 제공.
    - 입력 필드 검증: 전화번호 길이 및 형식 자동 체크.

3. **연동 확장**:
    - 문자, 이메일 등 추가적인 긴급 알림 서비스와 연동 가능.
    - 다국어 지원(해외 가족 연락 가능성 고려).

---

추가적으로 해당 내용이 서비스 요구사항이나 기능 정의에서 보완이 필요하다면 말씀해 주세요!