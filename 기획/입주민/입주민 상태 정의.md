# 사용자 상태 관리

## 사용자 상태 분류

---

### 1. 승인 대기 (`PENDING`)

- **설명**:  
  사용자가 회원가입을 완료한 뒤, **관리자의 승인**을 대기하는 상태입니다.  
  이 상태에서는 제한적으로 일부 기능만 허용됩니다.

- **행동/권한**:
    - 기능 제한: 거주지 관련 기능(예: 알림 확인, 포인트 사용 등) 이용 불가.
    - 가능 작업: 본인 프로필 수정, 관리자 승인 요청 확인.

- **목적**:  
  관리자는 이 상태의 사용자를 확인하여 정확한 정보를 바탕으로 승인을 결정합니다.

- **예상 전환 작업**:
    - 관리자가 사용자를 승인하면 상태가 "승인 완료"로 전환.
    - 검증된 정보가 부족할 경우 관리자에 의해 거절 처리 가능.

---

### 2. 승인 완료 (`APPROVED`)

- **설명**:  
  관리자의 승인을 받은 정상 회원 상태로, **시스템의 모든 핵심 기능**을 사용할 수 있는 상태입니다.

- **행동/권한**:
    - 거주지 정보 열람
    - 포인트 충전 및 사용
    - 비상 연락처 관리
    - 예약 신청 및 확인
    - 알림 수신

- **목적**:  
  일반 사용자의 정상적인 생활 지원 및 모든 서비스 제공.

- **예상 전환 작업**:
    - 특별한 상황(계정 문제, 거주 종료 등)에서 비활성화 상태로 변경 가능.

---

### 3. 거절 (`REJECTED`)

- **설명**:  
  관리자가 사용자 계정의 정보가 부정확하거나, 정책에 어긋난 경우 처리되는 상태입니다.  
  이 상태에선 시스템 사용이 불가하며, 사용자는 정보를 수정 후 다시 승인을 요청할 수 있습니다.

- **행동/권한**:
    - 가능 작업: 본인 정보 수정 및 재승인 요청.
    - 제한 작업: 시스템의 모든 기능(포인트 사용, 예약 등) 접근 불가.

- **목적**:  
  사용자 데이터의 정확성 보장 및 허위 계정 방지.

- **예상 전환 작업**:
    - 거절 후 수정된 정보를 바탕으로 재승인 요청이 가능.

---

### 4. 비활성화 (`DEACTIVATED`)

- **설명**:  
  사용자가 거주지에서 퇴거하거나, 서비스 종료 등의 이유로 **비활성화된 상태**입니다.  
  이 상태에서 사용자는 시스템에 접속할 수 없으며, 관리자가 관리 목적으로만 접근 가능합니다.

- **행동/권한**:
    - 제한 작업: 모든 기능 접근 불가.
    - 가능 작업: 관리자에 의해 재활성화 가능.

- **목적**:  
  서비스 사용 중지 계정 관리를 통해 시스템 데이터를 효율적으로 유지.

- **예상 전환 작업**:
    - 관리자가 요청에 따라 사용자를 활성화 상태로 전환 가능.
    - 사용자 정보를 "종료" 상태로 이동 가능.

---

### 5. 종료 (`TERMINATED`)

- **설명**:  
  사용자가 퇴거한 후, 기록으로만 남아 있는 상태입니다.  
  이 상태에서는 데이터를 유지하지만, 시스템에서의 모든 활동은 중지됩니다.

- **행동/권한**:
    - 제한 작업: 시스템의 모든 기능 접근 불가.
    - 관리자가 기록만 열람 가능.

- **목적**:  
  사용자 기록 보존 및 추적을 위해 종료 상태로 데이터 저장.

- **예상 전환 작업**:
    - 복구 불가 상태로 남음.

---

## 상태 전환 표

| **현재 상태**            | **가능한 전환 상태**                           | **전환 트리거**     |
|----------------------|-----------------------------------------|----------------|
| 승인 대기 (`PENDING`)    | 승인 완료 (`APPROVED`), 거절 (`REJECTED`)     | 관리자 승인/거절      |
| 승인 완료 (`APPROVED`)   | 비활성화 (`DEACTIVATED`), 종료 (`TERMINATED`) | 퇴거, 사용자 요청 등   |
| 거절 (`REJECTED`)      | 승인 대기 (`PENDING`)                       | 정보 수정 후 재요청    |
| 비활성화 (`DEACTIVATED`) | 승인 완료 (`APPROVED`), 종료 (`TERMINATED`)   | 관리자 판단 및 요청 확인 |
| 종료 (`TERMINATED`)    | 없음                                      | 기록 보존 상태로 고정   |